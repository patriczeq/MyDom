/*
 *
 *	MyDom.js - min
 *	Better, lighter jQuery syntax friendly framework
 *	version 1.0.8
 *	Patrik Eder 2020
 *
 */
!function(t){"use strict";function e(){this._xhr_={default:{method:"GET",url:t.location.href,headers:[],post:{}},accepts:{"*":null,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},parse:!0,sts:{}},this._xhr_.call=this._xhr_.default}e.prototype={_mydom_:function(r){function n(t,e){return{notfound:"Selector "+String(r)+" was not found in this document.",argmissing:"Argument missing, excepted: "+e[0]+" arg."}[t]}var t=void 0!==r&&"string"==typeof r?document.querySelectorAll(r):null,i=null===t?void 0===r?document:r:1===t.length?t[0]:t.length;if(!i||"number"==typeof t)return console.log(n("notfound",[t.length])),!1;var o=new function(){return i};return o.el=i,o.css=function(){var t={_:["-webkit-","-moz-","-ms-","-o-",""],p:["transition","transform"]};if(void 0!==i.style){if(!arguments.length)return i.style;if(1===arguments.length&&"string"==typeof arguments[0])return i.style[arguments[0]];if(1===arguments.length&&"object"==typeof arguments[0]){for(var e in arguments[0])if(-1!==t.p.indexOf(e))for(var r in t._)i.style[t._[r]+e]=arguments[0][e];else i.style[e]=arguments[0][e];return new MyDom(i)}if(2===arguments.length&&"string"==typeof arguments[0]&&"string"==typeof arguments[1]){if(-1!==t.p.indexOf(arguments[0]))for(var n in t._)i.style[t._[n]+arguments[0]]=arguments[1];else i.style[arguments[0]]=arguments[1];return new MyDom(i)}}},o.hasClass=function(){if(!arguments.length)throw Error(n("argmissing",[1]));return i.classList.contains(arguments[0])},o.toggleClass=function(){if(!arguments.length)throw Error(n("argmissing",[1]));var t=arguments[0],e=o.hasClass(t);return 2===arguments.length&&arguments[1]||1===arguments.length&&!e?i.classList.add(t):(2===arguments.length&&!arguments[1]||1===arguments.length&&e)&&i.classList.remove(t),new MyDom(i)},o.addClass=function(){if(!arguments.length)throw Error(n("argmissing",[1]));return i.classList.add(arguments[0]),new MyDom(i)},o.removeClass=function(){if(!arguments.length)throw Error(n("argmissing",[1]));return i.classList.remove(arguments[0]),new MyDom(i)},o.is=function(){if(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),!arguments.length)throw Error(n("argmissing",[1]));return"string"==typeof arguments[0]?i.matches(arguments[0]):i===arguments[0]},o.attr=function(){if(!arguments.length)throw Error(n("argmissing",[1]));if(void 0!==i.getAttribute)return 1===arguments.length?i.getAttribute(arguments[0]):2==arguments.length?(i.setAttribute(arguments[0],arguments[1]),new MyDom(i)):void 0},o.on=function(){if(2!==arguments.length)throw Error(n("argmissing",[2]));return i.addEventListener(arguments[0],arguments[1]),new MyDom(i)},o.prop=function(){if(!arguments.length)throw Error(n("argmissing",[1]));return 1===arguments.length?i[arguments[0]]:(i[arguments[0]]=arguments[1],new MyDom(i))},o.find=function(){if(!arguments.length)throw Error(n("argmissing",[1]));var t=i.querySelectorAll(arguments[0]);return 1===t.length?new MyDom(t[0]):new MyDoms(arguments[0])},o.offset=function(){var t=this.getBoundingClientRect();return 1===arguments.length?t[arguments[0]]:t},o.html=function(){return arguments.length?1===arguments.length&&"string"==typeof arguments[0]?(i.innerHTML=arguments[0],new MyDom(i)):void 0:i.innerHTML},o.txt=function(){return arguments.length?1===arguments.length?(i.textContent=String(arguments[0]),new MyDom(i)):void 0:i.textContent},o.appendText=function(){return arguments.length?1===arguments.length?(i.textContent+=String(arguments[0]),new MyDom(i)):void 0:new MyDom(i)},o.prependText=function(){return arguments.length?1===arguments.length?(i.textContent=i.textContent+String(arguments[0]),new MyDom(i)):void 0:new MyDom(i)},o.append=function(){if(!arguments.length)throw Error(n("argmissing",[1]));return i.appendChild(arguments[0]),new MyDom(i)},o.prepend=function(){if(!arguments.length)throw Error(n("argmissing",[1]));return i.prepend(arguments[0]),new MyDom(i)},o.insertAfter,o.after=function(){if(!arguments.length)throw Error(n("argmissing",[1]));var t=i;return(i="string"==typeof arguments[0]?document.querySelector(arguments[0]):arguments[0]).after(t),new MyDom(i)},o.insertBefore,o.before=function(){if(!arguments.length)throw Error(n("argmissing",[1]));var t=i;return(i="string"==typeof arguments[0]?document.querySelector(arguments[0]):arguments[0]).before(t),new MyDom(i)},o.height,o._height=function(){return arguments.length?(i.style.height=arguments[0],new MyDom(i)):i.getBoundingClientRect().height},o.width,o._width=function(){return arguments.length?(i.style.width=arguments[0],new MyDom(i)):i.getBoundingClientRect().width},o.closest=function(){if(arguments.length){for(;!i.matches(arguments[0]);)if(!(i=i.parentNode))return!1;return new MyDom(i)}throw Error(n("argmissing",[1]))},o},_mydom_xhr_:function(){var l=this;return{fetch:function(e,r,n,t,i){var o=new XMLHttpRequest;if(o.open(l._xhr_.call.method,l._xhr_.call.url,"function"==typeof r||!0===t),"POST"===l._xhr_.call.method?o.send(l._xhr_.call.post):o.send(),"function"!=typeof r)return l._xhr_.parse?l.response_parser(o.response,i):o.response;o.onprogress=function(t){if("function"==typeof e)return e(t)},o.onerror=function(t){if("function"!=typeof n)throw Error("MyDOM "+l._xhr_.call.method+" request to "+l._xhr_.call.url+" network error");n("Network Error",t)},o.onload=function(){var t=String(o.status)in l._xhr_.sts?l._xhr_.sts[o.status]:"unknown",e=Math.round(Number(o.status)/100);if(!(-1===[2,3].indexOf(e)&&String(o.status)in l._xhr_.sts))return"function"==typeof r?r(l._xhr_.parse?l.response_parser(o.response,i):o.response):o;if(![4,5].indexOf(e)||"function"!=typeof n)throw Error("MyDOM "+l._xhr_.call.method+" request to '"+l._xhr_.call.url+"' returned code "+o.status+": "+t);n(o.status+": "+t+", url:"+l._xhr_.call.url)};try{return 0===o.status}catch(t){return t}},get:function(t,e,r){return l._xhr_.call.method="GET",l._xhr_.call.url=t,l._xhr_.parse=!1,l._mydom_xhr_().fetch(!1,e,r)},post:function(t,e,r,n){return l._xhr_.call.method="POST",l._xhr_.call.post=e,l._xhr_.call.url=t,l._xhr_.parse=!1,l._mydom_xhr_().fetch(!1,r,n)},ajax:function(t,e){if(void 0!==t){e="string"!=typeof t?t:e,l._xhr_.call.url="string"==typeof t?t:"object"==typeof e&&"url"in e?e.url:l._xhr_.default.url;var r=function(t,e){return t in e?e[t]:l._xhr_.default[t]},n=function(t,e){return t in e&&"function"==typeof e[t]&&e[t]};return l._xhr_.call.method=r("method",e),l._xhr_.call.url=r("url",e),l._xhr_.call.headers=r("headers",e),l._xhr_.call.post=r("post",e),l._mydom_xhr_().fetch(n("progress",e),n("success",e),n("error",e),"async"in e&&!0===e.async,"dataType"in e&&e.dataType)}},template:function(t){}}},isJson:function(t){try{JSON.parse(t)}catch(t){return!1}return!0},strHTML:function(t){var e=document.createElement("div");return e.innerHTML=t,e.getElementsByTagName("template")},response_parser:function(t,e){var r="String",n=t;switch(this.isJson(t)?r="object":/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i.test(t)&&(r="html"),r){case"object":return JSON.parse(t);case"html":return this.strHTML(t)}return n}};var r=new e;r._xhr_.sts=JSON.parse(atob("eyIyMDAiOiJPSyIsIjIwMSI6IkNyZWF0ZWQiLCIyMDIiOiJBY2NlcHRlZCIsIjIwMyI6Ik5vbi1BdXRob3JpdGF0aXZlIEluZm9ybWF0aW9uIChvZCBIVFRQLzEuMSkiLCIyMDQiOiJObyBDb250ZW50IiwiMjA1IjoiUmVzZXQgQ29udGVudCIsIjIwNiI6IlBhcnRpYWwgQ29udGVudCIsIjIwNyI6Ik11bHRpLVN0YXR1cyAoV2ViREFWKSAoUkZDIDQ5MTgpIiwiMzAwIjoiTXVsdGlwbGUgQ2hvaWNlcyIsIjMwMSI6Ik1vdmVkIFBlcm1hbmVudGx5IiwiMzAyIjoiRm91bmQiLCIzMDMiOiJTZWUgT3RoZXIgKHNpbmNlIEhUVFAvMS4xKSIsIjMwNCI6Ik5vdCBNb2RpZmllZCIsIjMwNSI6IlVzZSBQcm94eSAoc2luY2UgSFRUUC8xLjEpIiwiMzA2IjoiU3dpdGNoIFByb3h5IiwiMzA3IjoiVGVtcG9yYXJ5IFJlZGlyZWN0IChzaW5jZSBIVFRQLzEuMSkiLCI0MDAiOiJCYWQgUmVxdWVzdCIsIjQwMSI6IlVuYXV0aG9yaXplZCIsIjQwMiI6IlBheW1lbnQgUmVxdWlyZWQiLCI0MDMiOiJGb3JiaWRkZW4iLCI0MDQiOiJOb3QgRm91bmQiLCI0MDUiOiJNZXRob2QgTm90IEFsbG93ZWQiLCI0MDYiOiJOb3QgQWNjZXB0YWJsZSIsIjQwNyI6IlByb3h5IEF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkIiwiNDA4IjoiUmVxdWVzdCBUaW1lb3V0IiwiNDA5IjoiQ29uZmxpY3QiLCI0MTAiOiJHb25lIiwiNDExIjoiTGVuZ3RoIFJlcXVpcmVkIiwiNDEyIjoiUHJlY29uZGl0aW9uIEZhaWxlZCIsIjQxMyI6IlJlcXVlc3QgRW50aXR5IFRvbyBMYXJnZSIsIjQxNCI6IlJlcXVlc3QtVVJJIFRvbyBMb25nIiwiNDE1IjoiVW5zdXBwb3J0ZWQgTWVkaWEgVHlwZSIsIjQxNiI6IlJlcXVlc3RlZCBSYW5nZSBOb3QgU2F0aXNmaWFibGUiLCI0MTciOiJFeHBlY3RhdGlvbiBGYWlsZWQiLCI0MTgiOiJJJ20gYSB0ZWFwb3QiLCI0MjIiOiJVbnByb2Nlc3NhYmxlIEVudGl0eSAoV2ViREFWKSAoUkZDIDQ5MTgpIiwiNDIzIjoiTG9ja2VkIChXZWJEQVYpIChSRkMgNDkxOCkiLCI0MjQiOiJGYWlsZWQgRGVwZW5kZW5jeSAoV2ViREFWKSAoUkZDIDQ5MTgpIiwiNDI1IjoiVW5vcmRlcmVkIENvbGxlY3Rpb24gKFJGQyAzNjQ4KSIsIjQyNiI6IlVwZ3JhZGUgUmVxdWlyZWQgKFJGQyA3MjMxKSIsIjQyOCI6IlByZWNvbmRpdGlvbiBSZXF1aXJlZCAoUkZDIDY1ODUpIiwiNDI5IjoiVG9vIE1hbnkgUmVxdWVzdHMgKFJGQyA2NTg1KSIsIjQzMSI6IlJlcXVlc3QgSGVhZGVyIEZpZWxkcyBUb28gTGFyZ2UgKFJGQyA2NTg1KSIsIjQ0OSI6IlJldHJ5IFdpdGgiLCI0NTAiOiJCbG9ja2VkIGJ5IFdpbmRvd3MgUGFyZW50YWwgQ29udHJvbHMiLCI0NTEiOiJVbmF2YWlsYWJsZSBGb3IgTGVnYWwgUmVhc29ucyIsIjQ5OSI6IkNsaWVudCBDbG9zZWQgUmVxdWVzdCIsIjUwMCI6IkludGVybmFsIFNlcnZlciBFcnJvciIsIjUwMSI6Ik5vdCBJbXBsZW1lbnRlZCIsIjUwMiI6IkJhZCBHYXRld2F5IiwiNTAzIjoiU2VydmljZSBVbmF2YWlsYWJsZSIsIjUwNCI6IkdhdGV3YXkgVGltZW91dCIsIjUwNSI6IkhUVFAgVmVyc2lvbiBOb3QgU3VwcG9ydGVkIiwiNTA2IjoiVmFyaWFudCBBbHNvIE5lZ290aWF0ZXMgKFJGQyAyMjk1KSIsIjUwNyI6Ikluc3VmZmljaWVudCBTdG9yYWdlIChXZWJEQVYpIChSRkMgNDkxOCkiLCI1MDkiOiJCYW5kd2lkdGggTGltaXQgRXhjZWVkZWQgKEFwYWNoZSBidy9saW1pdGVkIGV4dGVuc2lvbikiLCI1MTAiOiJOb3QgRXh0ZW5kZWQgKFJGQyAyNzc0KSJ9"));var n=r._mydom_;n.get=r._mydom_xhr_().get,n.post=r._mydom_xhr_().post,n.ajax=r._mydom_xhr_().ajax,n.template=r._mydom_xhr_().template,t._=t.$=t.MyDom=n||r}(window);
