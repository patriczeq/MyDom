/*
 *	MyDom.js
 *	Better, lighter jQuery syntax friendly framework
 *	version 1.0.8
 *	Patrik Eder 2019
 */
!function(e){"use strict";var t=function(){this._xhr_={default:{method:"GET",url:e.location.href,headers:[],post:{}},parse:!0,sts:{}},this._xhr_.call=this._xhr_.default};t.prototype={_md_slctr_:function(e){var t=void 0!==e&&"string"==typeof e?document.querySelectorAll(e):null,n=null===t?void 0===e?document:e:1===t.length?t[0]:t.length,r=function(t,n){return{notfound:"Selector "+String(e)+" was not found in this document.",argmissing:"Argument missing, excepted: "+n[0]+" arg."}[t]};if(!n||"number"==typeof t)return console.log(r("notfound",[t.length])),!1;var o=function(){return n},i=new o;return i.el=n,i.hasClass=function(){if(!arguments.length)throw Error(r("argmissing",[1]));return n.classList.contains(arguments[0])},i.toggleClass=function(){if(!arguments.length)throw Error(r("argmissing",[1]));var e=arguments[0],t=i.hasClass(e);return 2===arguments.length&&arguments[1]||1===arguments.length&&!t?n.classList.add(e):(2===arguments.length&&!arguments[1]||1===arguments.length&&t)&&n.classList.remove(e),new MyDom(n)},i.addClass=function(){if(!arguments.length)throw Error(r("argmissing",[1]));return n.classList.add(arguments[0]),new MyDom(n)},i.removeClass=function(){if(!arguments.length)throw Error(r("argmissing",[1]));return n.classList.remove(arguments[0]),new MyDom(n)},i.css=function(){var e={_:["-webkit-","-moz-","-ms-","-o-",""],p:["transition","transform"]};if(void 0!==n.style){if(!arguments.length)return n.style;if(1===arguments.length&&"string"==typeof arguments[0])return n.style[arguments[0]];if(1===arguments.length&&"object"==typeof arguments[0]){for(var t in arguments[0])if(e.p.indexOf(t)!==-1)for(var r in e._)n.style[e._[r]+t]=arguments[0][t];else n.style[t]=arguments[0][t];return new MyDom(n)}if(2===arguments.length&&"string"==typeof arguments[0]&&"string"==typeof arguments[1]){if(e.p.indexOf(arguments[0])!==-1)for(var o in e._)n.style[e._[o]+arguments[0]]=arguments[1];else n.style[arguments[0]]=arguments[1];return new MyDom(n)}}},i.attr=function(){if(!arguments.length)throw Error(r("argmissing",[1]));if(void 0!==n.getAttribute)return 1===arguments.length?n.getAttribute(arguments[0]):2==arguments.length?(n.setAttribute(arguments[0],arguments[1]),new MyDom(n)):void 0},i.on=function(){if(2!==arguments.length)throw Error(r("argmissing",[2]));return n.addEventListener(arguments[0],arguments[1]),new MyDom(n)},i.prop=function(){if(!arguments.length)throw Error(r("argmissing",[1]));return 1===arguments.length?n[arguments[0]]:(n[arguments[0]]=arguments[1],new MyDom(n))},i.is=function(){if(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),!arguments.length)throw Error(r("argmissing",[1]));return"string"==typeof arguments[0]?n.matches(arguments[0]):n===arguments[0]},i.find=function(){if(!arguments.length)throw Error(r("argmissing",[1]));var e=n.querySelectorAll(arguments[0]);return 1===e.length?new MyDom(e[0]):new MyDoms(arguments[0])},i.offset=function(){var e=this.getBoundingClientRect();return 1===arguments.length?e[arguments[0]]:e},i.html=function(){return arguments.length?1===arguments.length&&"string"==typeof arguments[0]?(n.innerHTML=arguments[0],new MyDom(n)):void 0:n.innerHTML},i.txt=function(){return arguments.length?1===arguments.length?(n.textContent=String(arguments[0]),new MyDom(n)):void 0:n.textContent},i.appendText=function(){return arguments.length?1===arguments.length?(n.textContent+=String(arguments[0]),new MyDom(n)):void 0:new MyDom(n)},i.prependText=function(){return arguments.length?1===arguments.length?(n.textContent=n.textContent+String(arguments[0]),new MyDom(n)):void 0:new MyDom(n)},i.append=function(){if(!arguments.length)throw Error(r("argmissing",[1]));return n.appendChild(arguments[0]),new MyDom(n)},i.prepend=function(){if(!arguments.length)throw Error(r("argmissing",[1]));return n.prepend(arguments[0]),new MyDom(n)},i.insertAfter,i.after=function(){if(!arguments.length)throw Error(r("argmissing",[1]));var e=n;return n="string"==typeof arguments[0]?document.querySelector(arguments[0]):arguments[0],n.after(e),new MyDom(n)},i.insertBefore,i.before=function(){if(!arguments.length)throw Error(r("argmissing",[1]));var e=n;return n="string"==typeof arguments[0]?document.querySelector(arguments[0]):arguments[0],n.before(e),new MyDom(n)},i.height,i._height=function(){return arguments.length?(n.style.height=arguments[0],new MyDom(n)):n.getBoundingClientRect().height},i.width,i._width=function(){return arguments.length?(n.style.width=arguments[0],new MyDom(n)):n.getBoundingClientRect().width},i.closest=function(){if(arguments.length){for(;!n.matches(arguments[0]);)if(n=n.parentNode,!n)return!1;return new MyDom(n)}throw Error(r("argmissing",[1]))},i},_md_xhr_:function(){var e=this;return{fetch:function(t,n,r,o,i){var s=new XMLHttpRequest;if(s.open(e._xhr_.call.method,e._xhr_.call.url,"function"==typeof n||o===!0),"POST"===e._xhr_.call.method?s.send(e._xhr_.call.post):s.send(),"function"!=typeof n)return e._xhr_.parse?e.response_parser(s.response,i):s.response;s.onprogress=function(e){if("function"==typeof t)return t(e)},s.onerror=function(){"function"==typeof r?r("Network Error"):alert("Network Error")},s.onload=function(){var t=e._xhr_.sts[Number(s.status)];return[200,300].indexOf(t[0])===-1&&Number(s.status)in e._xhr_.sts?[400,500].indexOf(t[0])!==-1?"function"==typeof r?r(s.status+": "+t[1]+"\n"+e._xhr_.call.url):alert(s.status+": "+t[1]+"\n"+e._xhr_.call.url):void 0:"function"==typeof n?n(e._xhr_.parse?e.response_parser(s.response,i):s.response):s};try{return 0===s.status}catch(e){return e}},get:function(t,n,r){return e._xhr_.call.method="GET",e._xhr_.call.url=t,e._xhr_.parse=!1,e._md_xhr_().fetch(!1,n,r)},post:function(t,n,r,o){return e._xhr_.call.method="POST",e._xhr_.call.post=n,e._xhr_.call.url=t,e._xhr_.parse=!1,e._md_xhr_().fetch(!1,r,o)},ajax:function(t,n){if(void 0!==t){n="string"!=typeof t?t:n,e._xhr_.call.url="string"==typeof t?t:"object"==typeof n&&"url"in n?n.url:e._xhr_.default.url;var r={opt:function(t,n){return t in n?n[t]:e._xhr_.default[t]},optfn:function(e,t){return e in t&&"function"==typeof t[e]&&t[e]}};return e._xhr_.call.method=r.opt("method",n),e._xhr_.call.url=r.opt("url",n),e._xhr_.call.headers=r.opt("headers",n),e._xhr_.call.post=r.opt("post",n),e._md_xhr_().fetch(r.optfn("progress",n),r.optfn("success",n),r.optfn("error",n),"async"in n&&n.async===!0,"dataType"in n&&n.dataType)}},template:function(e){}}},isJson:function(e){try{JSON.parse(e)}catch(e){return!1}return!0},strHTML:function(e){var t=document.createElement("div");return t.innerHTML=e,t.getElementsByTagName("template")},response_parser:function(e,t){var n=this,r=["json","plain","html"],o="String",i=e;switch(t=!(!t||r.indexOf(t.toLowerCase())===-1)&&t.toLowerCase(),n.isJson(e)?o="object":/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i.test(e)&&(o="html"),o){case"object":return JSON.parse(e);case"html":return n.strHTML(e)}return i}};var n=new t;n._xhr_.sts={200:[200,"OK"],201:[200,"Created"],202:[200,"Accepted"],203:[200,"Non-Authoritative Information (od HTTP/1.1)"],204:[200,"No Content"],205:[200,"Reset Content"],206:[200,"Partial Content"],207:[200,"Multi-Status (WebDAV) (RFC 4918)"],300:[300,"Multiple Choices"],301:[300,"Moved Permanently"],302:[300,"Found"],303:[300,"See Other (since HTTP/1.1)"],304:[300,"Not Modified"],305:[300,"Use Proxy (since HTTP/1.1)"],306:[300,"Switch Proxy"],307:[300,"Temporary Redirect (since HTTP/1.1)"],400:[400,"Bad Request"],401:[400,"Unauthorized"],402:[400,"Payment Required"],403:[400,"Forbidden"],404:[400,"Not Found"],405:[400,"Method Not Allowed"],406:[400,"Not Acceptable"],407:[400,"Proxy Authentication Required"],408:[400,"Request Timeout"],409:[400,"Conflict"],410:[400,"Gone"],411:[400,"Length Required"],412:[400,"Precondition Failed"],413:[400,"Request Entity Too Large"],414:[400,"Request-URI Too Long"],415:[400,"Unsupported Media Type"],416:[400,"Requested Range Not Satisfiable"],417:[400,"Expectation Failed"],418:[400,"I'm a teapot"],422:[400,"Unprocessable Entity (WebDAV) (RFC 4918)"],423:[400,"Locked (WebDAV) (RFC 4918)"],424:[400,"Failed Dependency (WebDAV) (RFC 4918)"],425:[400,"Unordered Collection (RFC 3648)"],426:[400,"Upgrade Required (RFC 7231)"],428:[400,"Precondition Required (RFC 6585)"],429:[400,"Too Many Requests (RFC 6585)"],431:[400,"Request Header Fields Too Large (RFC 6585)"],449:[400,"Retry With"],450:[400,"Blocked by Windows Parental Controls"],451:[400,"Unavailable For Legal Reasons"],499:[400,"Client Closed Request"],500:[500,"Internal Server Error"],501:[500,"Not Implemented"],502:[500,"Bad Gateway"],503:[500,"Service Unavailable"],504:[500,"Gateway Timeout"],505:[500,"HTTP Version Not Supported"],506:[500,"Variant Also Negotiates (RFC 2295)"],507:[500,"Insufficient Storage (WebDAV) (RFC 4918)"],509:[500,"Bandwidth Limit Exceeded (Apache bw/limited extension)"],510:[500,"Not Extended (RFC 2774)"]},e.MyDom=n._md_slctr_,e.MyDom.get=n._md_xhr_().get,e.MyDom.post=n._md_xhr_().post,e.MyDom.ajax=n._md_xhr_().ajax,e.MyDom.template=n._md_xhr_().template,e.$=e.MyDom}(window);
